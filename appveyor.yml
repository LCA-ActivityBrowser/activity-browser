# Using multiple examples:
# https://github.com/Anaconda-Platform/anaconda-project/blob/master/appveyor.yml
# https://github.com/AnacondaRecipes/conda-feedstock/blob/master/.appveyor.yml
build: "off"

environment:
  # PYTHONIOENCODING: "UTF-8"
  PYTHONUNBUFFERED: 1

  matrix:
    - CONDA_PY: "36"
      CONDA_INSTALL_LOCN: "C:\\Miniconda36-x64"

install:
  - call %CONDA_INSTALL_LOCN%\Scripts\activate.bat
  - conda config --set always_yes yes --set changeps1 no
  - conda update -q conda
  - conda info -a
  # Install package requirements & test suite
  # Do not use the conda-forge pytest version 3.2.2, it includes an old version of pluggy which breaks the test.
  - conda install -q -c defaults -c conda-forge -c cmutel -c haasad arrow brightway2 bw2io bw2data eidl fuzzywuzzy matplotlib networkx pandas "pyqt==5.9.2" seaborn "pytest>3.2.2,<3.5" pytest-qt pytest-mock

test_script:
  - python -m pytest
